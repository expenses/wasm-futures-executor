<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
  </head>
  <body>
    <script type="module">
      import init, { start, WorkerPool } from './wasm_thread_pool.js';

      async function run() {
        await init();

        const pool = new WorkerPool(navigator.hardwareConcurrency);
        console.log("created pool");

        const res = await start(pool);
        console.log("result", res);
      }

      run();
    </script>
  </body>
<html>
